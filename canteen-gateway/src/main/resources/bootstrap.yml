server:
  port: 2320
spring:
  #第一次加载慢问题
  mvc:
    servlet:
      load-on-startup: 1
  application:
    name: canteen-gateway
  cloud:
    nacos:
      discovery:
        server-addr: ${default-nacos.server-addr} #服务注册中心地址
      config:
        server-addr: ${default-nacos.server-addr} #配置中心地址
        file-extension: yaml  #指定yaml格式的配置
        group: DEFAULT_GROUP
        encode: utf-8
    sentinel:
      transport:
        dashboard: ${master-ip}:6464
        port: 8719
      datasource:
        ds:
          nacos:
            server-addr: ${default-nacos.server-addr}
            data-id: ${spring.application.name}-sentinel
            group-id: DEFAULT_GROUP
            namespace:
            data-type: json
            rule-type: degrade
      filter:
        enabled: false
#    gateway:
#      routes:
#        - id: rewritepath_route
#          uri: lb://canteen-organization
#          predicates:
#            - Path=/canteenorganization/**
#          filters:
#            - RewritePath=/canteenorganization(?<segment>/?.*), $\{segment}
  redis:
    #数据库索引
    database: 6
    host: 192.168.101.156
    port: 6379
    timeout: 3000
    password:
    jedis:
      pool:
        max-wait: -1
        max-active: 20
        max-idle: 10
        min-idle: 5
    cache:
      redis:
        cache-null-values: true
nacos:
  gateway:
    route:
      config:
        data-id: gateway-router
        group: DEFAULT_GROUP

feign:
  sentinel:
    enabled: true
management:
  endpoints:
    web:
      exposure:
        include: '*'

default-nacos:
  server-addr: 192.168.101.156:8848 #nacos服务器配置
master-ip: 192.168.101.156 #主服务器IP地址